# üîí –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: –µ—Å—Ç—å –ª–∏ –∑–∞—â–∏—Ç–∞ API –∫–ª—é—á–µ–π, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π?

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## 1. –ó–∞—â–∏—Ç–∞ API –∫–ª—é—á–µ–π

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ** (`app/core/config.py`)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–ª—é—á–µ–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã (10 —Å–∏–º–≤–æ–ª–æ–≤)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–ª—é—á–µ–π (–ø—Ä–µ—Ñ–∏–∫—Å—ã `sk-ant-`, `sk-`)
   - –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞ –≤ production
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π

2. **–ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –∫–ª—é—á–µ–π –≤ –ª–æ–≥–∞—Ö**
   - API –∫–ª—é—á–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
   - –§–æ—Ä–º–∞—Ç –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏: `sk-ant-1234...5678`
   - –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –∫–ª—é—á–µ–π

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   - `ConfigurationError` –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π –≤ production
   - –ß–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π

### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:

```python
class Settings:
    def _get_api_key(self, key_name: str, required: bool = False) -> Optional[str]:
        """–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–∞"""
        value = os.getenv(key_name)
        
        if not value:
            if required:
                raise ConfigurationError(f"–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è {key_name} –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")
            return None
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã
        if len(value) < 10:
            raise ConfigurationError(f"–ù–µ–≤–µ—Ä–Ω—ã–π {key_name}: –∫–ª—é—á —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π")
        
        # –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        masked_key = f"{value[:8]}...{value[-4:]}"
        logger.info(f"{key_name} –Ω–∞—Å—Ç—Ä–æ–µ–Ω: {masked_key}")
        
        return value
```

## 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∑–∞—â–∏—Ç–∞ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞):

–°–∏—Å—Ç–µ–º–∞ —É–∂–µ –∏–º–µ–µ—Ç –Ω–∞–¥–µ–∂–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ `agents/tzd_reader/security.py`:

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤**
   - –†–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ: `.pdf`, `.docx`, `.txt`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞
   - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

2. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤**
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 10MB (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
   - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤
   - –ß–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ª–∏–º–∏—Ç–æ–≤

3. **–ó–∞—â–∏—Ç–∞ –æ—Ç path traversal**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö
   - –ó–∞—â–∏—Ç–∞ –æ—Ç symlink –∞—Ç–∞–∫
   - –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –ø—É—Ç–µ–π —á–µ—Ä–µ–∑ `Path.resolve()`

4. **–í–∞–ª–∏–¥–∞—Ü–∏—è MIME —Ç–∏–ø–æ–≤**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞ (magic bytes)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã PDF (`%PDF`)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã DOCX/ZIP (`PK`)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ä–æ—É—Ç–µ—Ä–µ:

```python
# –ò–∑ app/routers/tzd_router.py
validator = FileSecurityValidator()

for file in files:
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
    validator.validate_file_extension(file.filename)
    
    # –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞ (–∑–∞—â–∏—Ç–∞ –æ—Ç path traversal)
    safe_filename = Path(file.filename).name
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞
    if len(content) > 10 * 1024 * 1024:  # 10MB
        raise HTTPException(status_code=400, detail=f"–§–∞–π–ª –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç")
```

## 3. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **–§–∏–ª—å—Ç—Ä –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** (`utils/logging_config.py`)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è API –∫–ª—é—á–µ–π
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∫–ª—é—á–µ–π (Anthropic, OpenAI, Perplexity)
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ Authorization
   - –ó–∞–º–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ `***MASKED***`

2. **–ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**
   ```python
   PATTERNS = [
       # –ö–ª—é—á–∏ Anthropic
       (re.compile(r'sk-ant-[a-zA-Z0-9_-]{40,}'), 'sk-ant-***MASKED***'),
       # –ö–ª—é—á–∏ OpenAI
       (re.compile(r'(?<!ant-)sk-[a-zA-Z0-9]{40,}'), 'sk-***MASKED***'),
       # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
       (re.compile(r'(ANTHROPIC_API_KEY["\']?\s*[:=]\s*["\']?)([^"\'\s]{10,})'), r'\1***MASKED***'),
       # –ó–∞–≥–æ–ª–æ–≤–∫–∏ Authorization
       (re.compile(r'(Authorization:\s*Bearer\s+)([^\s]+)'), r'\1***MASKED***'),
   ]
   ```

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**
   - –§–∏–ª—å—Ç—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –ª–æ–≥–æ–≤
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
   - –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∞–π–ª–æ–≤—ã–º –∏ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```python
from utils.logging_config import setup_logging

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
setup_logging(level="INFO")

logger = logging.getLogger(__name__)

# –≠—Ç–æ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ
logger.info(f"–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á: {api_key}")  
# –õ–æ–≥: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á: sk-ant-***MASKED***"
```

## üß™ –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

1. **`tests/test_security_config.py`** (13 —Ç–µ—Å—Ç–æ–≤)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–ª—é—á–µ–π
   - –†–µ–∂–∏–º—ã production –∏ development
   - –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –∫–ª—é—á–µ–π –≤ –ª–æ–≥–∞—Ö

2. **`tests/test_security_logging.py`** (13 —Ç–µ—Å—Ç–æ–≤)
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–ª—é—á–µ–π
   - –ó–∞–≥–æ–ª–æ–≤–∫–∏ Authorization
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

3. **`tests/test_security_file_validation.py`** (29 —Ç–µ—Å—Ç–æ–≤)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤
   - –õ–∏–º–∏—Ç—ã —Ä–∞–∑–º–µ—Ä–∞
   - –ó–∞—â–∏—Ç–∞ –æ—Ç path traversal
   - –í–∞–ª–∏–¥–∞—Ü–∏—è MIME —Ç–∏–ø–æ–≤

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:

```
‚úÖ 55 —Ç–µ—Å—Ç–æ–≤ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω—ã –∑–∞ 0.11—Å
- 13 —Ç–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ API –∫–ª—é—á–µ–π
- 13 —Ç–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- 29 —Ç–µ—Å—Ç–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞—É–¥–∏—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

| –ê—Å–ø–µ–∫—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ | –î–µ—Ç–∞–ª–∏ |
|--------------------|--------|--------|---------|
| **–ó–∞—â–∏—Ç–∞ API –∫–ª—é—á–µ–π** | ‚úÖ –£–õ–£–ß–®–ï–ù–û | 8/10 | –í–∞–ª–∏–¥–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞, –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤** | ‚úÖ –°–£–©–ï–°–¢–í–£–ï–¢ | 9/10 | –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚úÖ –£–õ–£–ß–®–ï–ù–û | 9/10 | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** | ‚úÖ –ù–û–í–û–ï | 8/10 | –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å —á–µ—Ç–∫–∏–º–∏ –æ—à–∏–±–∫–∞–º–∏ |
| **–ó–∞—â–∏—Ç–∞ –æ—Ç path traversal** | ‚úÖ –°–£–©–ï–°–¢–í–£–ï–¢ | 9/10 | –ù–∞–¥–µ–∂–Ω–∞—è –∑–∞—â–∏—Ç–∞ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ |

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

```bash
# –§–∞–π–ª .env
ANTHROPIC_API_KEY=sk-ant-–≤–∞—à-–∫–ª—é—á-–∑–¥–µ—Å—å
OPENAI_API_KEY=sk-–≤–∞—à-–∫–ª—é—á-–∑–¥–µ—Å—å
ENVIRONMENT=production
```

### –í–∫–ª—é—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```python
from utils.logging_config import setup_logging

# –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
setup_logging(level="INFO")
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤

```python
from agents.tzd_reader.security import FileSecurityValidator

validator = FileSecurityValidator()
validator.validate_all(file_path, base_dir="/uploads")
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ API –∫–ª—é—á–µ–π:

```python
$ python -c "
from app.core.config import get_settings
settings = get_settings()
print(f'‚úÖ –ö–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω: {bool(settings.anthropic_api_key)}')
"

# –í—ã–≤–æ–¥:
‚úÖ –ö–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω: True
```

### –¢–µ—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```python
$ python -c "
from utils.logging_config import setup_logging
import logging

setup_logging(level='INFO')
logger = logging.getLogger('test')
logger.info('API Key: sk-ant-1234567890...')
"

# –í—ã–≤–æ–¥:
2025-10-01 14:24:31 [INFO] test: API Key: sk-ant-***MASKED***
```

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í—Å–µ —Ç—Ä–∏ –∞—Å–ø–µ–∫—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ —É–ª—É—á—à–µ–Ω—ã:**

1. ‚úÖ **–ó–∞—â–∏—Ç–∞ API –∫–ª—é—á–µ–π**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è, —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –≤ —Å–∏—Å—Ç–µ–º–µ
3. ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –ø—Ä–æ—á–Ω—ã–µ –æ—Å–Ω–æ–≤—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å 55 —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- [SECURITY_IMPROVEMENTS.md](./SECURITY_IMPROVEMENTS.md) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π (–Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º)
- [SECURITY_ARCHITECTURE_ANALYSIS.md](./SECURITY_ARCHITECTURE_ANALYSIS.md) - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [IMPLEMENTATION_GUIDE.md](./IMPLEMENTATION_GUIDE.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
